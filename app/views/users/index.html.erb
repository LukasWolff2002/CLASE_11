
<!-- app/views/people/index.html.erb -->
<h1>Lista de Personas</h1>
<button id="reloadButton">Recargar Personas</button>
<ul id="userList"></ul>

<script>
document.getElementById("reloadButton").addEventListener("click", function() {
    fetch('/refresh')
        .then(response => response.json())
        .then(users => {
            const userList = document.getElementById("userList");
            userList.innerHTML = '';  // Limpiar la lista antes de agregar nuevos elementos
            users.forEach(user => {
                const userItem = document.createElement("li");
                userItem.textContent = `Nombre: ${user.name}, Email: ${user.email}`;
                userList.appendChild(userItem);
            });
        }).catch(error => console.error('Error:', error));  // Agregar manejo de errores
});
</script>
